import CowList from './CowList.js';
import HighlightedCow from './HighlightedCow.js';
import Form from './Form.js';
import Parse from '../parse.js';

class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      cows: [],
      currentCow: null
    };
    this.handleFormSubmit = this.handleFormSubmit.bind(this);
    this.handleCowClick = this.handleCowClick.bind(this);
  }

  componentDidMount() {
    this.getCows();
  }

  getCows() {
    var app = this;
    Parse.readAll(function (data) {
      console.log(data);
      app.setState({
        cows: data,
        currentCow: null
      });
    });
  }

  handleCowClick(cow) {
    console.log('click listener', this, cow);
    this.setState({
      cows: this.state.cows,
      currentCow: cow
    });
    console.log('after state modification', this.state);
  }

  handleFormSubmit() {
    this.getCows();
  }

  render() {
    return React.createElement("div", null, React.createElement(HighlightedCow, {
      cow: this.state.currentCow
    }), React.createElement(Form, {
      onSubmit: this.handleFormSubmit
    }), React.createElement(CowList, {
      handleCowClick: this.handleCowClick,
      cows: this.state.cows
    }));
  }

}

export default App;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3B1YmxpYy9jb21wb25lbnRzL0FwcC5qc3giXSwibmFtZXMiOlsiQ293TGlzdCIsIkhpZ2hsaWdodGVkQ293IiwiRm9ybSIsIlBhcnNlIiwiQXBwIiwiUmVhY3QiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwic3RhdGUiLCJjb3dzIiwiY3VycmVudENvdyIsImhhbmRsZUZvcm1TdWJtaXQiLCJiaW5kIiwiaGFuZGxlQ293Q2xpY2siLCJjb21wb25lbnREaWRNb3VudCIsImdldENvd3MiLCJhcHAiLCJyZWFkQWxsIiwiZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJzZXRTdGF0ZSIsImNvdyIsInJlbmRlciJdLCJtYXBwaW5ncyI6IkFBQUEsT0FBT0EsT0FBUCxNQUFvQixjQUFwQjtBQUNBLE9BQU9DLGNBQVAsTUFBMkIscUJBQTNCO0FBQ0EsT0FBT0MsSUFBUCxNQUFpQixXQUFqQjtBQUNBLE9BQU9DLEtBQVAsTUFBa0IsYUFBbEI7O0FBRUEsTUFBTUMsR0FBTixTQUFrQkMsS0FBSyxDQUFDQyxTQUF4QixDQUFrQztBQUNoQ0MsRUFBQUEsV0FBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUVBLFNBQUtDLEtBQUwsR0FBYTtBQUNYQyxNQUFBQSxJQUFJLEVBQUUsRUFESztBQUVYQyxNQUFBQSxVQUFVLEVBQUU7QUFGRCxLQUFiO0FBS0EsU0FBS0MsZ0JBQUwsR0FBd0IsS0FBS0EsZ0JBQUwsQ0FBc0JDLElBQXRCLENBQTJCLElBQTNCLENBQXhCO0FBQ0EsU0FBS0MsY0FBTCxHQUFzQixLQUFLQSxjQUFMLENBQW9CRCxJQUFwQixDQUF5QixJQUF6QixDQUF0QjtBQUNEOztBQUVERSxFQUFBQSxpQkFBaUIsR0FBRztBQUNsQixTQUFLQyxPQUFMO0FBQ0Q7O0FBRURBLEVBQUFBLE9BQU8sR0FBRztBQUNSLFFBQUlDLEdBQUcsR0FBRyxJQUFWO0FBQ0FkLElBQUFBLEtBQUssQ0FBQ2UsT0FBTixDQUFjLFVBQVNDLElBQVQsRUFBZTtBQUMzQkMsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlGLElBQVo7QUFDQUYsTUFBQUEsR0FBRyxDQUFDSyxRQUFKLENBQWE7QUFBQ1osUUFBQUEsSUFBSSxFQUFFUyxJQUFQO0FBQWFSLFFBQUFBLFVBQVUsRUFBRTtBQUF6QixPQUFiO0FBQ0QsS0FIRDtBQUlEOztBQUVERyxFQUFBQSxjQUFjLENBQUNTLEdBQUQsRUFBTTtBQUNsQkgsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZ0JBQVosRUFBOEIsSUFBOUIsRUFBb0NFLEdBQXBDO0FBQ0EsU0FBS0QsUUFBTCxDQUFjO0FBQ1paLE1BQUFBLElBQUksRUFBQyxLQUFLRCxLQUFMLENBQVdDLElBREo7QUFFWkMsTUFBQUEsVUFBVSxFQUFDWTtBQUZDLEtBQWQ7QUFJQUgsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksMEJBQVosRUFBd0MsS0FBS1osS0FBN0M7QUFDRDs7QUFFREcsRUFBQUEsZ0JBQWdCLEdBQUc7QUFDakIsU0FBS0ksT0FBTDtBQUNEOztBQUVEUSxFQUFBQSxNQUFNLEdBQUc7QUFDUCxXQUNFLGlDQUNFLG9CQUFDLGNBQUQ7QUFDRSxNQUFBLEdBQUcsRUFBRSxLQUFLZixLQUFMLENBQVdFO0FBRGxCLE1BREYsRUFJRSxvQkFBQyxJQUFEO0FBQU0sTUFBQSxRQUFRLEVBQUUsS0FBS0M7QUFBckIsTUFKRixFQUtFLG9CQUFDLE9BQUQ7QUFDRSxNQUFBLGNBQWMsRUFBRSxLQUFLRSxjQUR2QjtBQUVFLE1BQUEsSUFBSSxFQUFFLEtBQUtMLEtBQUwsQ0FBV0M7QUFGbkIsTUFMRixDQURGO0FBWUQ7O0FBbkQrQjs7QUFzRGxDLGVBQWVOLEdBQWYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ293TGlzdCBmcm9tICcuL0Nvd0xpc3QuanMnO1xuaW1wb3J0IEhpZ2hsaWdodGVkQ293IGZyb20gJy4vSGlnaGxpZ2h0ZWRDb3cuanMnO1xuaW1wb3J0IEZvcm0gZnJvbSAnLi9Gb3JtLmpzJztcbmltcG9ydCBQYXJzZSBmcm9tICcuLi9wYXJzZS5qcyc7XG5cbmNsYXNzIEFwcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNvd3M6IFtdLFxuICAgICAgY3VycmVudENvdzogbnVsbFxuICAgIH07XG5cbiAgICB0aGlzLmhhbmRsZUZvcm1TdWJtaXQgPSB0aGlzLmhhbmRsZUZvcm1TdWJtaXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUNvd0NsaWNrID0gdGhpcy5oYW5kbGVDb3dDbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5nZXRDb3dzKCk7XG4gIH1cblxuICBnZXRDb3dzKCkge1xuICAgIHZhciBhcHAgPSB0aGlzO1xuICAgIFBhcnNlLnJlYWRBbGwoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICBhcHAuc2V0U3RhdGUoe2Nvd3M6IGRhdGEsIGN1cnJlbnRDb3c6IG51bGx9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUNvd0NsaWNrKGNvdykge1xuICAgIGNvbnNvbGUubG9nKCdjbGljayBsaXN0ZW5lcicsIHRoaXMsIGNvdyk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjb3dzOnRoaXMuc3RhdGUuY293cyxcbiAgICAgIGN1cnJlbnRDb3c6Y293XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJ2FmdGVyIHN0YXRlIG1vZGlmaWNhdGlvbicsIHRoaXMuc3RhdGUpO1xuICB9XG5cbiAgaGFuZGxlRm9ybVN1Ym1pdCgpIHtcbiAgICB0aGlzLmdldENvd3MoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPEhpZ2hsaWdodGVkQ293XG4gICAgICAgICAgY293PXt0aGlzLnN0YXRlLmN1cnJlbnRDb3d9XG4gICAgICAgIC8+XG4gICAgICAgIDxGb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZUZvcm1TdWJtaXR9Lz5cbiAgICAgICAgPENvd0xpc3RcbiAgICAgICAgICBoYW5kbGVDb3dDbGljaz17dGhpcy5oYW5kbGVDb3dDbGlja31cbiAgICAgICAgICBjb3dzPXt0aGlzLnN0YXRlLmNvd3N9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDtcbiJdfQ==